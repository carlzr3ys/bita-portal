# BITA Backend API - Apache Rewrite Rules
# Routes /api/* requests to root PHP files

RewriteEngine On

# Route /api/* requests to root PHP files (remove /api/ prefix)
RewriteCond %{REQUEST_URI} ^/api/(.+\.php)$
RewriteCond %{DOCUMENT_ROOT}/%1 -f
RewriteRule ^api/(.+\.php)$ $1 [L]

# For root index.php (health check)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/api/
RewriteRule ^(.*)$ index.php [L,QSA]

# CORS Headers (if needed - or handle in cors.php)
<IfModule mod_headers.c>
    Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    Header always set Access-Control-Allow-Headers "Content-Type, Authorization"
</IfModule>

# Set default charset
AddDefaultCharset UTF-8

